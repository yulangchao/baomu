(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-address-addressManage"],{"0909":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-994baf46]{background:#f8f8f8;padding-top:%?16?%}.row[data-v-994baf46]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;padding:0 %?30?%;height:%?110?%;background:#fff}.row .tit[data-v-994baf46]{-webkit-flex-shrink:0;flex-shrink:0;width:%?120?%;font-size:%?30?%;color:#303133}.row .address-box[data-v-994baf46]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.row .input[data-v-994baf46]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?30?%;color:#303133}.row .icon-shouhuodizhi[data-v-994baf46]{font-size:%?36?%;color:#909399}.default-row[data-v-994baf46]{margin-top:%?16?%}.default-row .tit[data-v-994baf46]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.default-row uni-switch[data-v-994baf46]{-webkit-transform:translateX(%?16?%) scale(.9);transform:translateX(%?16?%) scale(.9)}.add-btn[data-v-994baf46]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?690?%;height:%?80?%;margin:%?60?% auto;font-size:%?32?%;color:#fff;background-color:#fa436a;border-radius:%?10?%;box-shadow:1px 2px 5px rgba(219,63,96,.4)}body.?%PAGE?%[data-v-994baf46]{background:#f8f8f8}',""])},"25c1":function(t,e,i){"use strict";i.r(e);var n=i("6a51"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e["default"]=a.a},2800:function(t,e,i){"use strict";i.r(e);var n=i("74ed"),a=i("25c1");for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);i("6076");var o=i("2877"),s=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"70d8282e",null);e["default"]=s.exports},"32ae":function(t,e,i){"use strict";var n=i("f93d"),a=i.n(n);a.a},"34cd":function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac6a");var a=n(i("cebc")),r=n(i("2800")),o=i("2f62"),s={components:{uniPopup:r.default},data:function(){return{provinceList:[],cityList:[],areaList:[],pickerValue:[],itemHeight:"height: ".concat(uni.upx2px(88),"px;"),currentProvince:0,currentCity:0,currentArea:0,currentValue:{},currentMsg:null}},computed:(0,a.default)({},(0,o.mapState)({areas:function(t){return t.areas}})),watch:{areas:function(t){this.getProvinceList(),this.changeProvinceChildren(this.currentProvince)},currentProvince:function(t){this.changeProvinceChildren(t)},currentCity:function(t){this.changeCityChildren(t)},value:{handler:function(t){this.currentValue=t},deep:!0},currentValue:{handler:function(t){this.$emit("input",t)},deep:!0}},props:{msg:{type:String,default:"选择地址"},value:{type:Object|Array}},mounted:function(){var t=this,e=setInterval(function(){if(t.areas&&t.areas.length&&(clearInterval(e),t.getProvinceList(),t.value)){var i=t.$tools.find_rows(t.areas,{id:t.value},!1);t.currentValue=t.value,i&&(t.currentMsg=i.mergename)}},500)},methods:{getProvinceList:function(){var t=[];this.areas.forEach(function(e,i){1==e.level&&t.push(e)}),this.provinceList=t,this.changeProvinceChildren(this.currentProvince)},change:function(t){this.currentProvince=t.detail.value[0]||0,this.currentCity=t.detail.value[1]||0,this.currentArea=t.detail.value[2]||0,this.pickerValue=[this.currentProvince,this.currentCity,this.currentArea]},pickerOpen:function(){this.areas&&this.areas.length?this.$refs.$unipopup.open():uni.showToast({icon:"none",title:"数据加载中，请稍后"})},pickerCancel:function(t){this.$refs.$unipopup.close()},pickerConfirm:function(t){this.$refs.$unipopup.close();var e=this.areaList[this.currentArea];this.currentValue=e.id,this.currentMsg=e.mergename,this.$emit("submit",e.mergename,e,this.pickerValue)},changeProvinceChildren:function(t){var e=[],i=this.provinceList[t];this.areas.forEach(function(t,n){2==t.level&&t.pid==i.id&&e.push(t)}),this.cityList=e,this.currentCity=0,this.currentArea=0,this.changeCityChildren(this.currentCity)},changeCityChildren:function(t){var e=[],i=this.cityList[t];this.areas.forEach(function(t,n){3==t.level&&t.pid==i.id&&e.push(t)}),this.areaList=e,this.currentArea=0}}};e.default=s},6076:function(t,e,i){"use strict";var n=i("a96a"),a=i.n(n);a.a},"6a51":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniPopup",props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},custom:{type:Boolean,default:!1},maskClick:{type:Boolean,default:!0}},data:function(){return{ani:"",show:!1}},created:function(){},methods:{clear:function(){},open:function(){var t=this;this.show=!0,this.$nextTick(function(){setTimeout(function(){t.ani="uni-"+t.type},30)})},close:function(t){var e=this;!this.maskClick&&t||(this.ani="",this.$nextTick(function(){setTimeout(function(){e.show=!1},300)}))}}};e.default=n},"6ce3":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.column[data-v-72630508]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.color-tip[data-v-72630508]{color:#909399}.text-normal[data-v-72630508]{font-size:%?28?%}.x-picker-view[data-v-72630508]{width:100%;height:%?476?%;overflow:hidden;background-color:#fff;z-index:666;font-size:%?28?%}uni-picker-view[data-v-72630508]{height:100%}.btn-submit[data-v-72630508]{color:#fa436a}.x-picker-cxt[data-v-72630508]{position:fixed;bottom:0;left:0;width:100%;-webkit-transition:all .3s ease;transition:all .3s ease;-webkit-transform:translateY(100%);transform:translateY(100%);z-index:3000}.x-picker-cnt.show[data-v-72630508]{-webkit-transform:translateY(0);transform:translateY(0)}.x-picker-hd[data-v-72630508]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?30?%;height:%?88?%;background-color:#fff;position:relative;text-align:center;font-size:%?32?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.x-picker-hd .x-picker-btn[data-v-72630508]{font-size:%?30?%}.x-picker-hd[data-v-72630508]:after{content:" ";position:absolute;left:0;bottom:0;right:0;height:1px;border-bottom:1px solid #e5e5e5;color:#e5e5e5;-webkit-transform-origin:0 100%;transform-origin:0 100%;-webkit-transform:scaleY(.5);transform:scaleY(.5)}',""])},"74ed":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("v-uni-view",{staticClass:"uni-popup"},[i("v-uni-view",{staticClass:"uni-popup__mask",class:[t.ani,t.animation?"ani":"",t.custom?"":"uni-custom"],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close(!0)}}}),i("v-uni-view",{staticClass:"uni-popup__wrapper",class:[t.type,t.ani,t.animation?"ani":"",t.custom?"":"uni-custom"],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close(!0)}}},[i("v-uni-view",{staticClass:"uni-popup__wrapper-box",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[t._t("default")],2)],1)],1):t._e()},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},"78c3":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.uni-popup[data-v-70d8282e]{position:fixed;top:50px;bottom:0;left:0;right:0;z-index:999;overflow:hidden}.uni-popup__mask[data-v-70d8282e]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:998;background:rgba(0,0,0,.4);opacity:0}.uni-popup__mask.ani[data-v-70d8282e]{-webkit-transition:all .3s;transition:all .3s}.uni-popup__mask.uni-bottom[data-v-70d8282e],.uni-popup__mask.uni-center[data-v-70d8282e],.uni-popup__mask.uni-top[data-v-70d8282e]{opacity:1}.uni-popup__wrapper[data-v-70d8282e]{position:absolute;z-index:999;box-sizing:border-box}.uni-popup__wrapper.ani[data-v-70d8282e]{-webkit-transition:all .3s;transition:all .3s}.uni-popup__wrapper.top[data-v-70d8282e]{top:0;left:0;width:100%;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.uni-popup__wrapper.bottom[data-v-70d8282e]{bottom:0;left:0;width:100%;-webkit-transform:translateY(100%);transform:translateY(100%)}.uni-popup__wrapper.center[data-v-70d8282e]{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-transform:scale(1.2);transform:scale(1.2);opacity:0}.uni-popup__wrapper-box[data-v-70d8282e]{position:relative;box-sizing:border-box}.uni-popup__wrapper.uni-custom .uni-popup__wrapper-box[data-v-70d8282e]{padding:%?30?%;background:#fff}.uni-popup__wrapper.uni-custom.center .uni-popup__wrapper-box[data-v-70d8282e]{position:relative;max-width:80%;max-height:80%;overflow-y:scroll}.uni-popup__wrapper.uni-custom.bottom .uni-popup__wrapper-box[data-v-70d8282e],.uni-popup__wrapper.uni-custom.top .uni-popup__wrapper-box[data-v-70d8282e]{width:100%;max-height:500px;overflow-y:scroll}.uni-popup__wrapper.uni-bottom[data-v-70d8282e],.uni-popup__wrapper.uni-top[data-v-70d8282e]{-webkit-transform:translateY(0);transform:translateY(0)}.uni-popup__wrapper.uni-center[data-v-70d8282e]{-webkit-transform:scale(1);transform:scale(1);opacity:1}',""])},"7ddd":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{},[i("v-uni-view",{staticClass:"text-normal",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pickerOpen.apply(void 0,arguments)}}},[t.currentMsg?i("v-uni-text",[t._v(t._s(t.currentMsg))]):i("v-uni-text",{staticClass:"color-tip"},[t._v(t._s(t.areas&&t.areas.length?t.msg:"加载中..."))])],1),i("uni-popup",{ref:"$unipopup",staticClass:"x-picker-ctx",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"x-picker-hd",attrs:{catchtouchmove:"true"},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)}}},[i("v-uni-view",{staticClass:"x-picker-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pickerCancel.apply(void 0,arguments)}}},[t._v("取消")]),i("v-uni-view",{staticClass:"x-picker-btn btn-submit",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pickerConfirm.apply(void 0,arguments)}}},[t._v("确定")])],1),i("v-uni-view",{staticClass:"x-picker-view"},[i("v-uni-picker-view",{attrs:{"indicator-style":t.itemHeight,value:t.pickerValue},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[i("v-uni-picker-view-column",t._l(t.provinceList,function(e,n){return i("v-uni-view",{key:n,staticClass:"column"},[t._v(t._s(e.shortname))])}),1),i("v-uni-picker-view-column",t._l(t.cityList,function(e,n){return i("v-uni-view",{key:n,staticClass:"column"},[t._v(t._s(e.shortname))])}),1),i("v-uni-picker-view-column",t._l(t.areaList,function(e,n){return i("v-uni-view",{key:n,staticClass:"column"},[t._v(t._s(e.shortname))])}),1)],1)],1)],1)],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},"8a3d":function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("cebc")),r=n(i("ccae")),o=i("2f62"),s={components:{areaSelect:r.default},data:function(){return{form:{contactor_name:"",phone:"",address_id:null,address:"",street:"",is_default:0}}},onLoad:function(t){var e="新增收货地址";"edit"===t.type&&(e="编辑收货地址",this.form=JSON.parse(t.data),console.log(this.form)),this.manageType=t.type,uni.setNavigationBarTitle({title:e}),this.getAreas()},methods:(0,a.default)({},(0,o.mapActions)(["getUserAddress","getAreas"]),{switchChange:function(t){this.form.is_default=t.detail.value?1:0},changeAddress:function(t){this.form.address=t},chooseAddress:function(){this.$refs.ref.region.show()},onConfirm:function(t){console.log(t),this.form.address=t.result},showRegion:function(){this.$refs.region.show()},confirm:function(){var t=this,e=this.form;e.contactor_name?/(^1[3|4|5|7|8][0-9]{9}$)/.test(e.phone)?e.address&&e.address_id?e.street?this.$http.post("user.address.edit",this.form).then(function(e){t.$api.msg("地址".concat("edit"==t.manageType?"修改":"添加","成功")),t.getUserAddress(),setTimeout(function(){uni.navigateBack()},800)}):this.$api.msg("请填写街道信息"):this.$api.msg("请在选择所在位置"):this.$api.msg("请输入正确的手机号码"):this.$api.msg("请填写收货人姓名")}})};e.default=s},9750:function(t,e,i){"use strict";i.r(e);var n=i("e4b5"),a=i("c65c");for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);i("32ae");var o=i("2877"),s=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"994baf46",null);e["default"]=s.exports},"9a5f":function(t,e,i){"use strict";var n=i("f00d"),a=i.n(n);a.a},a96a:function(t,e,i){var n=i("78c3");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("39a12c72",n,!0,{sourceMap:!1,shadowMode:!1})},c38b:function(t,e,i){"use strict";i.r(e);var n=i("34cd"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e["default"]=a.a},c65c:function(t,e,i){"use strict";i.r(e);var n=i("8a3d"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e["default"]=a.a},ccae:function(t,e,i){"use strict";i.r(e);var n=i("7ddd"),a=i("c38b");for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);i("9a5f");var o=i("2877"),s=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"72630508",null);e["default"]=s.exports},e4b5:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"row b-b"},[i("v-uni-text",{staticClass:"tit"},[t._v("联系人")]),i("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"收货人姓名","placeholder-class":"placeholder"},model:{value:t.form.contactor_name,callback:function(e){t.$set(t.form,"contactor_name",e)},expression:"form.contactor_name"}})],1),i("v-uni-view",{staticClass:"row b-b"},[i("v-uni-text",{staticClass:"tit"},[t._v("手机号")]),i("v-uni-input",{staticClass:"input",attrs:{type:"number",placeholder:"收货人手机号码","placeholder-class":"placeholder"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),i("v-uni-view",{staticClass:"row b-b"},[i("v-uni-text",{staticClass:"tit"},[t._v("地址")]),i("v-uni-view",{staticClass:"address-box"},[i("area-select",{on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.changeAddress.apply(void 0,arguments)}},model:{value:t.form.address_id,callback:function(e){t.$set(t.form,"address_id",e)},expression:"form.address_id"}})],1)],1),i("v-uni-view",{staticClass:"row b-b"},[i("v-uni-text",{staticClass:"tit"},[t._v("街道")]),i("v-uni-input",{staticClass:"input",attrs:{type:"text"},model:{value:t.form.street,callback:function(e){t.$set(t.form,"street",e)},expression:"form.street"}})],1),i("v-uni-view",{staticClass:"row default-row"},[i("v-uni-text",{staticClass:"tit"},[t._v("设为默认")]),i("v-uni-switch",{attrs:{checked:1==t.form.is_default,color:"#fa436a"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.switchChange.apply(void 0,arguments)}}})],1),i("v-uni-button",{staticClass:"add-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[t._v("提交")])],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},f00d:function(t,e,i){var n=i("6ce3");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("05c9c0a2",n,!0,{sourceMap:!1,shadowMode:!1})},f93d:function(t,e,i){var n=i("0909");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("2f861651",n,!0,{sourceMap:!1,shadowMode:!1})}}]);